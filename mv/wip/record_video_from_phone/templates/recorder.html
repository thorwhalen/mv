<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Record to '{{ space }}'</title>
  <style>
    body { font-family: Arial,sans-serif; max-width:600px; margin:20px auto; }
    button { padding:10px 20px; margin:5px; font-size:16px; }
    video { border:1px solid #ccc; width:100%; height:auto; }
    #status { margin-top:10px; font-family:monospace; white-space:pre-wrap; }
    #recordToggle { background-color: #4CAF50; color: white; }
    #recordToggle.recording { background-color: #f44336; animation: blink 1s infinite; }
    #recordToggle.stopping { background-color: #FF9800; animation: pulse 0.5s infinite; }
    @keyframes blink { 
      50% { opacity: 0.5; }
    }
    @keyframes pulse { 
      0% { opacity: 1; }
      50% { opacity: 0.7; }
      100% { opacity: 1; }
    }
  </style>
</head>
<body>
  <h1>Recording to space: {{ space }}</h1>
  <video id="preview" autoplay playsinline muted></video>
  <div>
    <button id="toggle">Use Front Camera</button>
    <button id="recordToggle">Start Recording</button>
  </div>
  <div id="status">Ready. Click 'Start Recording' to begin.</div>
  <script src="/static/recorder.js"></script>
  <script>const space = "{{ space }}";</script>
</body>
</html>
